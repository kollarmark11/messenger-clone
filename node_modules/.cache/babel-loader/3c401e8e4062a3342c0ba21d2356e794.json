{"ast":null,"code":"import _toConsumableArray from\"/Users/markkollar/Documents/Dev/messenger-clone/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _slicedToArray from\"/Users/markkollar/Documents/Dev/messenger-clone/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import{Button,FormControl,InputLabel,Input}from'@material-ui/core';import'./App.css';import Message from'./Message';import db from'./firebase';import firebase from'firebase';import FlipMove from'react-flip-move';import SendIcon from'@material-ui/icons/Send';import{IconButton}from'@material-ui/core';function App(){//StateknÃ©l nem kell frissÃ­teni az oldalt, azÃ©rt jobb mint a vÃ¡ltozÃ³k\nvar _useState=useState(''),_useState2=_slicedToArray(_useState,2),input=_useState2[0],setInput=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),messages=_useState4[0],setMessages=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),username=_useState6[0],setUsername=_useState6[1];useEffect(function(){//Run code here\n// Ha a [] Ã¼res, akkor ez a kÃ³d amit itt Ã­runk EGYSZER fog lefutni amikor a komponens betÃ¶lt\nsetUsername(prompt('Please Enter Your Name'));},[]);//Condition\nuseEffect(function(){//Egyszer fut le amikor a komponens betÃ¶lt\n//onSnapshot -> ha akÃ¡rmilyen vÃ¡ltozÃ¡st talÃ¡l beledobja a snapshotba\n// A doc a adatbazison belÃ¼li document-ek\n//a map-al bejÃ¡rjuk Ã©s kiszedjÃ¼k a dokumentumokban lÃ©vÅ‘ adatokat\ndb.collection('messages').orderBy('timestamp','desc').onSnapshot(function(snapshot){setMessages(snapshot.docs.map(function(doc){return{id:doc.id,message:doc.data()};}));});},[]);var sendMessage=function sendMessage(event){//...messages -> tartsd meg az Ã¶sszes alap messaget, Ã©s tedd hozzÃ¡ pluszba az inputban lÃ©vÅ‘ket!!!\nevent.preventDefault();db.collection('messages').add({message:input,username:username,timestamp:firebase.firestore.FieldValue.serverTimestamp()});setMessages([].concat(_toConsumableArray(messages),[{username:username,message:input}]));setInput('');};return/*#__PURE__*/React.createElement(\"div\",{className:\"App\"},/*#__PURE__*/React.createElement(\"img\",{src:\"https://image.flaticon.com/icons/svg/2950/2950657.svg\",width:\"10%\"}),/*#__PURE__*/React.createElement(\"h1\",{className:\"welcomeText\"},\"Szia \",username,\"!  Kezdj el chatelni. \\uD83E\\uDD19 \"),/*#__PURE__*/React.createElement(\"form\",{className:\"app__form\"},/*#__PURE__*/React.createElement(FormControl,{className:\"app__formControl center\"},/*#__PURE__*/React.createElement(InputLabel,null,\"Enter a message...\"),/*#__PURE__*/React.createElement(Input,{className:\"app__input\",value:input,onChange:function onChange(event){return setInput(event.target.value);}}),/*#__PURE__*/React.createElement(IconButton,{className:\"app__iconButton\",disabled:!input,variant:\"contained\",color:\"primary\",type:\"submit\",onClick:sendMessage},/*#__PURE__*/React.createElement(SendIcon,null)))),/*#__PURE__*/React.createElement(FlipMove,{className:\"messages__box\"},//BejÃ¡rja a messages tÃ¶mbÃ¶t, Ã©s minden egyes elemÃ©t kiÃ­rja!\nmessages.map(function(_ref){var id=_ref.id,message=_ref.message;return/*#__PURE__*/React.createElement(Message,{key:id,username:username,message:message});})));}export default App;","map":{"version":3,"sources":["/Users/markkollar/Documents/Dev/messenger-clone/src/App.js"],"names":["React","useState","useEffect","Button","FormControl","InputLabel","Input","Message","db","firebase","FlipMove","SendIcon","IconButton","App","input","setInput","messages","setMessages","username","setUsername","prompt","collection","orderBy","onSnapshot","snapshot","docs","map","doc","id","message","data","sendMessage","event","preventDefault","add","timestamp","firestore","FieldValue","serverTimestamp","target","value"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { Button, FormControl, InputLabel, Input } from '@material-ui/core';\nimport './App.css';\nimport Message from './Message';\nimport db from './firebase';\nimport firebase from 'firebase';\nimport FlipMove from 'react-flip-move';\nimport SendIcon from '@material-ui/icons/Send';\nimport { IconButton } from '@material-ui/core';\n\n\nfunction App() {\n\n  //StateknÃ©l nem kell frissÃ­teni az oldalt, azÃ©rt jobb mint a vÃ¡ltozÃ³k\n  const [input, setInput] = useState('');\n  const [messages, setMessages] = useState([]);\n  const [username, setUsername] = useState('');\n\n  useEffect(() => {\n    //Run code here\n    // Ha a [] Ã¼res, akkor ez a kÃ³d amit itt Ã­runk EGYSZER fog lefutni amikor a komponens betÃ¶lt\n    setUsername(prompt('Please Enter Your Name')) \n  }, [] ) //Condition\n\n  useEffect(() =>{\n    //Egyszer fut le amikor a komponens betÃ¶lt\n    //onSnapshot -> ha akÃ¡rmilyen vÃ¡ltozÃ¡st talÃ¡l beledobja a snapshotba\n    // A doc a adatbazison belÃ¼li document-ek\n    //a map-al bejÃ¡rjuk Ã©s kiszedjÃ¼k a dokumentumokban lÃ©vÅ‘ adatokat\n    db.collection('messages').orderBy('timestamp', 'desc').onSnapshot(snapshot => {\n      setMessages(snapshot.docs.map(doc => ({id: doc.id, message: doc.data()})))\n    }); \n  }, [])\n\n  const sendMessage = (event) => {\n    //...messages -> tartsd meg az Ã¶sszes alap messaget, Ã©s tedd hozzÃ¡ pluszba az inputban lÃ©vÅ‘ket!!!\n    event.preventDefault();\n    db.collection('messages').add({\n      message: input,\n      username: username,\n      timestamp: firebase.firestore.FieldValue.serverTimestamp()\n    })\n\n    setMessages([...messages, {username: username, message: input}]);\n    setInput('');\n  }\n\n  return (\n    <div className=\"App\">\n      <img src=\"https://image.flaticon.com/icons/svg/2950/2950657.svg\" width=\"10%\" />\n        <h1 className=\"welcomeText\">Szia {username}!  Kezdj el chatelni. ğŸ¤™ </h1>\n      {/* Form Ãºjra tÃ¶lri az oldalt, ami nem jÃ³ nekÃ¼nk \n      event.preventDefault(); Ezzel mÅ±kÃ¶dik */}\n      <form className=\"app__form\">\n        <FormControl className=\"app__formControl center\">\n          <InputLabel>Enter a message...</InputLabel>\n          <Input className=\"app__input\" value={input} onChange={event => setInput(event.target.value)} />\n\n\n          <IconButton className=\"app__iconButton\" disabled={!input}  \n            variant=\"contained\" \n            color=\"primary\" \n            type='submit' \n            onClick={sendMessage}>\n              <SendIcon></SendIcon>\n          </IconButton>\n\n          {/* type=submit --> enterrel is megy */}\n        </FormControl>\n      </form>\n\n\n      <FlipMove className=\"messages__box\">\n      {\n        //BejÃ¡rja a messages tÃ¶mbÃ¶t, Ã©s minden egyes elemÃ©t kiÃ­rja!\n        messages.map(({id, message}) => (\n          <Message key={id} username={username}  message={message}/>\n        ))\n      }\n      </FlipMove>\n      \n    </div>\n  );\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}